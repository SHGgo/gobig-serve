(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);f&&f(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var o=s[r];0!==n[o]&&(a=!1)}a&&(i.splice(e--,1),t=l(l.s=s[0]))}return t}var a={},r={userManage:0},n={userManage:0},i=[];function o(t){return l.p+"static/js/"+({}[t]||t)+"-legacy."+{"chunk-3f07248a":"85ebb6c5","chunk-570bbf65":"abeb9905","chunk-579f52e4":"92d9f8a7"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(t){var e=[],s={"chunk-570bbf65":1,"chunk-579f52e4":1};r[t]?e.push(r[t]):0!==r[t]&&s[t]&&e.push(r[t]=new Promise((function(e,s){for(var a="static/css/"+({}[t]||t)+"."+{"chunk-3f07248a":"31d6cfe0","chunk-570bbf65":"07389821","chunk-579f52e4":"d5f7695f"}[t]+".css",n=l.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var c=i[o],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===n))return e()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){c=u[o],d=c.getAttribute("data-href");if(d===a||d===n)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||n,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],f.parentNode.removeChild(f),s(i)},f.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,s){a=n[t]=[e,s]}));e.push(a[2]=i);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=o(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(f);var s=n[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",u.name="ChunkLoadError",u.type=a,u.request=r,s[1](u)}n[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,s){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(s,a,function(e){return t[e]}.bind(null,a));return s},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var f=d;i.push([2,"chunk-vendors","chunk-common"]),s()})({"1dad":function(t,e,s){},2:function(t,e,s){t.exports=s("e2a7")},2763:function(t,e,s){},"27ec":function(t,e,s){"use strict";var a=s("2763"),r=s.n(a);r.a},6109:function(t,e,s){"use strict";var a=s("7330"),r=s.n(a);r.a},7330:function(t,e,s){},"77d2":function(t,e,s){var a={"./af":"fbac","./af.js":"fbac","./ar":"f96f","./ar-dz":"e63c","./ar-dz.js":"e63c","./ar-kw":"b7bd","./ar-kw.js":"b7bd","./ar-ly":"968f","./ar-ly.js":"968f","./ar-ma":"9f9d","./ar-ma.js":"9f9d","./ar-sa":"aea5","./ar-sa.js":"aea5","./ar-tn":"d44b","./ar-tn.js":"d44b","./ar.js":"f96f","./az":"c7ed","./az.js":"c7ed","./be":"5a28","./be.js":"5a28","./bg":"1251","./bg.js":"1251","./bm":"2809","./bm.js":"2809","./bn":"b4fc","./bn.js":"b4fc","./bo":"5484","./bo.js":"5484","./br":"5adc","./br.js":"5adc","./bs":"ac10","./bs.js":"ac10","./ca":"e381","./ca.js":"e381","./cs":"aef2","./cs.js":"aef2","./cv":"6566","./cv.js":"6566","./cy":"1390","./cy.js":"1390","./da":"1ece","./da.js":"1ece","./de":"5f10","./de-at":"09c4","./de-at.js":"09c4","./de-ch":"89a2","./de-ch.js":"89a2","./de.js":"5f10","./dv":"e662","./dv.js":"e662","./el":"196b","./el.js":"196b","./en-SG":"0a32","./en-SG.js":"0a32","./en-au":"94ed","./en-au.js":"94ed","./en-ca":"2806","./en-ca.js":"2806","./en-gb":"b0dd","./en-gb.js":"b0dd","./en-ie":"7a6e","./en-ie.js":"7a6e","./en-il":"1f0f","./en-il.js":"1f0f","./en-nz":"1606","./en-nz.js":"1606","./eo":"f214","./eo.js":"f214","./es":"7d58","./es-do":"737b","./es-do.js":"737b","./es-us":"a894","./es-us.js":"a894","./es.js":"7d58","./et":"a888","./et.js":"a888","./eu":"1357","./eu.js":"1357","./fa":"0a48","./fa.js":"0a48","./fi":"c2b1","./fi.js":"c2b1","./fo":"52c4","./fo.js":"52c4","./fr":"04e6","./fr-ca":"6ad1","./fr-ca.js":"6ad1","./fr-ch":"b12f","./fr-ch.js":"b12f","./fr.js":"04e6","./fy":"ad13","./fy.js":"ad13","./ga":"369e","./ga.js":"369e","./gd":"22de","./gd.js":"22de","./gl":"f808","./gl.js":"f808","./gom-latn":"50d5","./gom-latn.js":"50d5","./gu":"e67a","./gu.js":"e67a","./he":"037c","./he.js":"037c","./hi":"3d53","./hi.js":"3d53","./hr":"678b","./hr.js":"678b","./hu":"1783","./hu.js":"1783","./hy-am":"2873","./hy-am.js":"2873","./id":"de99","./id.js":"de99","./is":"6aa2","./is.js":"6aa2","./it":"1f93","./it-ch":"2db9","./it-ch.js":"2db9","./it.js":"1f93","./ja":"6bf8","./ja.js":"6bf8","./jv":"6e55","./jv.js":"6e55","./ka":"e65f","./ka.js":"e65f","./kk":"7167","./kk.js":"7167","./km":"4668","./km.js":"4668","./kn":"e3d2","./kn.js":"e3d2","./ko":"b058","./ko.js":"b058","./ku":"017e","./ku.js":"017e","./ky":"b2bd","./ky.js":"b2bd","./lb":"e50c","./lb.js":"e50c","./lo":"ca14","./lo.js":"ca14","./lt":"3e84","./lt.js":"3e84","./lv":"ce1d","./lv.js":"ce1d","./me":"9d38","./me.js":"9d38","./mi":"3e2e","./mi.js":"3e2e","./mk":"d532","./mk.js":"d532","./ml":"db61","./ml.js":"db61","./mn":"7493","./mn.js":"7493","./mr":"52d8","./mr.js":"52d8","./ms":"b559","./ms-my":"7462","./ms-my.js":"7462","./ms.js":"b559","./mt":"c055","./mt.js":"c055","./my":"49e0","./my.js":"49e0","./nb":"eb1c","./nb.js":"eb1c","./ne":"0acb","./ne.js":"0acb","./nl":"7497","./nl-be":"3114","./nl-be.js":"3114","./nl.js":"7497","./nn":"9a9c","./nn.js":"9a9c","./pa-in":"c595","./pa-in.js":"c595","./pl":"801c","./pl.js":"801c","./pt":"5b08","./pt-br":"155f","./pt-br.js":"155f","./pt.js":"5b08","./ro":"05fc","./ro.js":"05fc","./ru":"90b3","./ru.js":"90b3","./sd":"99bf","./sd.js":"99bf","./se":"20d6","./se.js":"20d6","./si":"7c0b","./si.js":"7c0b","./sk":"90fc","./sk.js":"90fc","./sl":"871b","./sl.js":"871b","./sq":"b045","./sq.js":"b045","./sr":"ac81","./sr-cyrl":"a2d0","./sr-cyrl.js":"a2d0","./sr.js":"ac81","./ss":"b093","./ss.js":"b093","./sv":"12e5","./sv.js":"12e5","./sw":"38a0","./sw.js":"38a0","./ta":"a462","./ta.js":"a462","./te":"18cb","./te.js":"18cb","./tet":"0c11","./tet.js":"0c11","./tg":"d707","./tg.js":"d707","./th":"883f","./th.js":"883f","./tl-ph":"6cc0","./tl-ph.js":"6cc0","./tlh":"ab53","./tlh.js":"ab53","./tr":"e523","./tr.js":"e523","./tzl":"b192","./tzl.js":"b192","./tzm":"5604","./tzm-latn":"9f95","./tzm-latn.js":"9f95","./tzm.js":"5604","./ug-cn":"9f4f","./ug-cn.js":"9f4f","./uk":"8bd6","./uk.js":"8bd6","./ur":"9a78","./ur.js":"9a78","./uz":"4d4c","./uz-latn":"da73","./uz-latn.js":"da73","./uz.js":"4d4c","./vi":"b766","./vi.js":"b766","./x-pseudo":"2a69","./x-pseudo.js":"2a69","./yo":"fd2e","./yo.js":"fd2e","./zh-cn":"35d0","./zh-cn.js":"35d0","./zh-hk":"7b45","./zh-hk.js":"7b45","./zh-tw":"fa66","./zh-tw.js":"fa66"};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="77d2"},a61c:function(t,e,s){},bc13:function(t,e,s){"use strict";var a=s("1dad"),r=s.n(a);r.a},be5c:function(t,e,s){t.exports=s.p+"static/img/41.f21d9df8.gif"},c0b2:function(t,e,s){"use strict";var a=s("a61c"),r=s.n(a);r.a},e2a7:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=s("2f62");a["a"].use(r["a"]);var n={path:"",userContent:{}},i=new r["a"].Store({state:n,mutations:{},actions:{},modules:{}}),o=s("8c4f"),l=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row no-gutters justify-content-center",attrs:{id:"my-index"}},[a("div",{staticClass:"pic"},[a("img",{staticClass:"img-fluid",attrs:{src:s("be5c"),alt:""}})])])}],d={name:"index"},u=d,f=s("2877"),m=Object(f["a"])(u,l,c,!1,null,"f0df3b50",null),p=m.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"my-info"}},[s("my-title",{attrs:{name:"我的信息"}}),s("div",{staticClass:"mt-5 mx-md-0 mr-3"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 col-form-label text-right",attrs:{for:"nick_name"}},[t._v("昵 称 :")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.userContent.nickName,expression:"userContent.nickName",modifiers:{lazy:!0}}],staticClass:"form-control col-md-4 col-7",attrs:{type:"text",id:"nick_name",title:"请输入昵称",placeholder:"请输入昵称"},domProps:{value:t.userContent.nickName},on:{change:function(e){return t.$set(t.userContent,"nickName",e.target.value)}}})]),s("small",{ref:"nickNameHelp",staticClass:"form-text offset-md-2 offset-4",attrs:{id:"nick_name_help"}},[t._v(" 最多10位汉字、数字、字母等字符 ")])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 col-form-label text-right",attrs:{for:"gender"}},[t._v("性 别 :")]),s("select",{directives:[{name:"model",rawName:"v-model.lazy",value:t.userContent.gender,expression:"userContent.gender",modifiers:{lazy:!0}}],staticClass:"form-control col-md-1 col-4",attrs:{name:"gender",id:"gender"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.userContent,"gender",e.target.multiple?s:s[0])}}},[s("option",{attrs:{selected:"",value:"1"}},[t._v("男")]),s("option",{attrs:{value:"0"}},[t._v("女")]),s("option",{attrs:{value:"3"}},[t._v("保密")])])])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 col-form-label text-right",attrs:{for:"signature"}},[t._v("签 名 :")]),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.userContent.signature,expression:"userContent.signature",modifiers:{lazy:!0}}],staticClass:"form-control col-md-4 col-7",attrs:{type:"text",id:"signature",title:"设置您的签名",placeholder:"设置您的签名- ( ゜- ゜)つロ"},domProps:{value:t.userContent.signature},on:{change:function(e){return t.$set(t.userContent,"signature",e.target.value)}}})]),s("small",{ref:"signatureHelp",staticClass:"form-text offset-md-2 offset-4",attrs:{id:"signature_help"}},[t._v(" 最多50位汉字、数字、字母字符 ")])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 col-form-label text-right",attrs:{for:"birth_date"}},[t._v("生 日 :")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userContent.birthDate,expression:"userContent.birthDate"}],staticClass:"form-control col-md-4 col-7",attrs:{type:"date",id:"birth_date",placeholder:"请输入时间"},domProps:{value:t.userContent.birthDate},on:{input:function(e){e.target.composing||t.$set(t.userContent,"birthDate",e.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("button",{staticClass:"btn btn-success offset-md-2 offset-4",on:{click:t.checkNewUserContent}},[t._v("更新")])])])],1)},h=[],g=(s("4d63"),s("ac1f"),s("25f0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"my-title"}},[s("span",{staticClass:"text"},[t._v(">>"+t._s(t.name))])])}),b=[],j={name:"myTitle",props:["name"]},C=j,y=(s("6109"),Object(f["a"])(C,g,b,!1,null,"5b3d61be",null)),w=y.exports,_=s("6bf2"),k=s.n(_),x={name:"myInfo",components:{"my-title":w},data:function(){return{userContent:this.$store.state.userContent,nickNameHelp:"",signatureHelp:""}},created:function(){this.getOldUserContent()},computed:{getData:function(){return this.$store.state.userContent}},watch:{getData:function(t){this.userContent=t,this.getOldUserContent()}},methods:{getOldUserContent:function(){var t=new Date(this.userContent.birthDate);this.userContent.birthDate=k()(t).format("YYYY-MM-DD")},checkNewUserContent:function(){var t=new RegExp("^[a-zA-Z0-9_-一-龥]{1,10}$"),e=new RegExp("^[a-zA-Z0-9_-一-龥]{1,50}$");if(!t.test(this.userContent.nickName))return this.$refs.nickNameHelp.style.color="red",void alert("请输入正确的昵称");if(!e.test(this.userContent.signature))return this.$refs.signatureHelp.style.color="red",void alert("请输入正确的签名");var s=confirm("您确定更新这些信息吗？");s&&this.uploadNewUserContent()},uploadNewUserContent:function(){var t=this;axios({method:"post",url:"user/uploadUserContent",data:this.userContent,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){t.uploadNewUserContentAfter(e.data)})).catch((function(t){console.log(t)}))},uploadNewUserContentAfter:function(t){2e4===t.status&&alert("更新成功！！！")}}},$=x,D=Object(f["a"])($,v,h,!1,null,"0b3dfbb0",null),N=D.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"my-figure"}},[s("my-title",{attrs:{name:"我的头像"}}),s("div",{staticClass:"mt-5 mx-md-0 mx-3"},[s("div",{staticClass:"row justify-content-center align-items-center no-gutters",attrs:{id:"old-figure"}},[s("div",{staticClass:"d-flex flex-column align-items-center col-md-3"},[s("label",{staticClass:"text-muted"},[t._v("现在")]),s("img",{staticClass:"rounded-circle",attrs:{src:t.oldFigure,alt:""}})]),s("input",{ref:"picInput",staticClass:"d-none",attrs:{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:t.fileInput}}),s("button",{staticClass:"btn btn-primary col-md-2  mt-4",staticStyle:{height:"3rem"},attrs:{id:"v-pic-btn"},on:{click:t.selectFigure}},[t._v(" 上传头像 ")]),s("div",{staticClass:"row flex-column align-items-center col-md-3 mt-md-0 mt-4"},[s("label",{staticClass:"text-muted"},[t._v("未来")]),s("img",{staticClass:"rounded-circle",attrs:{src:t.figureDataUrl,alt:""}})])]),s("div",{staticClass:"row flex-column align-items-center mt-5 mx-md-0 mx-3"},[s("small",{ref:"picHelp",staticClass:"text-muted"},[t._v("请选择图片上传：大小180 * 180像素支持JPG、PNG等格式，图片需小于2M")]),s("button",{staticClass:"btn btn-success mt-3",on:{click:t.fileUpload}},[t._v("更新")])])])],1)},E=[],U={name:"myfigure",data:function(){return{uid:this.$store.state.userContent.uid,oldFigure:this.$store.state.path+this.$store.state.userContent.figure,figureData:new FormData,figureDataUrl:String}},components:{"my-title":w},created:function(){},computed:{getData:function(){return this.$store.state.userContent}},watch:{getData:function(t){this.oldFigure=this.$store.state.path+t.figure,this.uid=t.uid}},methods:{selectFigure:function(){this.$refs.picInput.dispatchEvent(new MouseEvent("click"))},fileInput:function(t){var e=this,s=t.target.files[0],a=new FileReader,r=new RegExp(/image\/[jpeg|png|gif]/);r.test(s.type)?s.size>5242880?(alert("图片大小错误"),t.target.value=null,this.$refs.picHelp.style.color="red"):(a.readAsDataURL(s),a.onload=function(t){e.figureDataUrl=t.target.result},this.figureData.append("file",s),this.figureData.append("uid",this.uid)):(alert("图片格式错误"),t.target.value=null,this.$refs.picHelp.style.color="red")},fileUpload:function(){var t=this,e=this.figureData.get("file");e?axios({method:"post",url:"user/uploadUserFigure",data:this.figureData,headers:{"Content-Type":"multipart/form-data; charset=utf-8"}}).then((function(e){var s=e.data.status;t.fileUploadAfter(s)})).catch((function(t){console.log(t)})):alert("请先选择头像")},fileUploadAfter:function(t){2e4===t?(this.oldFigure=this.figureDataUrl,this.figureDataUrl="",alert("更新头像成功"),window.location.reload()):50100===t?alert("未知错误，请重新选择头像"):30400===t&&alert("未知错误，请重新登录")}}},O=U,H=(s("bc13"),Object(f["a"])(O,z,E,!1,null,"33071e0b",null)),P=H.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"video-upload"}},[s("my-title",{attrs:{name:"投稿管理"}}),s("div",{staticClass:"mt-5 mr-3"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 text-right",attrs:{for:"v-title"}},[t._v("标 题 :")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control col-7",attrs:{type:"text",id:"v-title",maxlength:"30"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("small",{ref:"titleHelp",staticClass:"form-text offset-md-2 offset-4",attrs:{id:"title-help"}},[t._v(" 最多10位汉字、数字、字母或下划线等字符 ")])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 text-right",attrs:{for:"v-intro"}},[t._v("介 绍 :")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.introduction,expression:"introduction"}],staticClass:"form-control col-7",attrs:{id:"v-intro",maxlength:"250",placeholder:"填写全面信息"},domProps:{value:t.introduction},on:{input:function(e){e.target.composing||(t.introduction=e.target.value)}}})]),s("small",{ref:"introHelp",staticClass:"form-text offset-md-2 offset-4",attrs:{id:"intro-help"}},[t._v(" 最多10位汉字、数字、字母或下划线等字符 ")])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 text-right",attrs:{for:"v-sort"}},[t._v("分 类 :")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.sortName,expression:"sortName"}],staticClass:"form-control col-4",attrs:{id:"v-sort"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortName=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"动画"}},[t._v("动画")]),s("option",{attrs:{value:"电影"}},[t._v("电影")])])])]),s("div",{staticClass:"form-group",attrs:{id:"v-video"}},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 text-right",attrs:{for:"v-video-btn"}},[t._v("视 频 :")]),s("input",{ref:"videoInput",attrs:{type:"file",accept:"video/*"},on:{change:t.inputVideo}}),s("button",{staticClass:"btn btn-danger col-md-2 col-4",attrs:{id:"v-video-btn"},on:{click:t.selectVideo}},[t._v("添加视频")]),s("span",{staticClass:"ml-3 text-danger font-weight-bolder d-inline-flex align-items-center overflow-hidden"},[t._v(" "+t._s(t.videoName)+" ")])]),s("small",{ref:"videoHelp",staticClass:"form-text offset-md-2 offset-4 flex-wrap",staticStyle:{"word-wrap":"break-word"},attrs:{id:"video-help"}},[t._v(" 支持avi,wmv,mkv,mp4,mov,rm,3gp,flv,mpg,rmvb等格式，500mb以下大小的视频 ")])]),s("div",{staticClass:"form-group",attrs:{id:"v-pic"}},[s("div",{staticClass:"row"},[s("label",{staticClass:"col-md-2 col-4 text-right",attrs:{for:"v-pic-btn"}},[t._v("封 面 :")]),s("input",{ref:"picInput",staticClass:"d-none",attrs:{type:"file",accept:"image/png, image/jpeg, image/jpg"},on:{change:t.inputVideoPic}}),s("button",{staticClass:"btn btn-primary mr-4",staticStyle:{height:"3rem"},attrs:{id:"v-pic-btn"},on:{click:t.selectVideoPic}},[t._v(" 添加封面 ")])]),s("small",{ref:"picHelp",staticClass:"form-text offset-md-2 offset-4",attrs:{id:"pic-help"}},[t._v(" 支持jpg,png等格式,5mb以下大小的图片 ")])]),s("img",{staticClass:"offset-md-2 offset-4 mb-5",attrs:{src:t.picData,alt:"",id:"picView"}}),s("div",{staticStyle:{border:"1px solid dimgrey",opacity:"0.2","border-radius":"50%"}}),s("div",{staticClass:"d-flex justify-content-center mt-5"},[s("div",{staticClass:"progress col-10 p-0"},[s("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",style:"width:"+t.progress},[t._v(t._s(t.progress))])])]),s("div",{staticClass:"d-flex justify-content-center mt-5"},[s("button",{staticClass:"btn btn-success col-4",on:{click:t.checkVideoInfo}},[t._v("更新")])])])],1)},V=[],F=(s("b0c0"),{name:"videoUpload",data:function(){return{title:"",uid:this.$store.state.userContent.uid,author:this.$store.state.userContent.nickName,introduction:"",sortName:"动画",pic:"",videoRes:"",formData:new FormData,progress:0,picData:"",videoData:"",videoName:""}},components:{"my-title":w},methods:{selectVideo:function(){this.$refs.videoInput.dispatchEvent(new MouseEvent("click"))},selectVideoPic:function(){this.$refs.picInput.dispatchEvent(new MouseEvent("click"))},inputVideoPic:function(t){var e=this,s=t.target.files[0],a=new FileReader,r=new RegExp(/image\/[jpeg|png|jpg]/);r.test(s.type)?s.size>5242880?(alert("图片大小错误"),t.target.value=null,this.$refs.picHelp.style.color="red"):(a.readAsDataURL(s),a.onload=function(t){e.picData=t.target.result},this.formData.append("picFile",s),this.$refs.picHelp.style.color="#555"):(alert("图片格式错误"),t.target.value=null,this.$refs.picHelp.style.color="red")},inputVideo:function(t){var e=t.target.files[0],s=new RegExp(/video\/[avi|wmv|mkv|mp4|mov|rm|3gp|flv|mpg|rmvb]/);s.test(e.type)?e.size>524288e3?(alert("视频大小错误"),t.target.value=null,this.$refs.videoHelp.style.color="red"):(this.videoName=e.name,this.formData.append("videoFile",e),this.$refs.videoHelp.style.color="#555"):(alert("视频格式错误"),t.target.value=null,this.$refs.videoHelp.style.color="red")},checkVideoInfo:function(){var t=new RegExp("^[一-龥_a-zA-Z0-9]{1,30}$"),e=new RegExp("^.{1,250}$");if(!t.test(this.title))return this.$refs.titleHelp.style.color="red",void alert("请输入正确的标题");if(this.$refs.titleHelp.style.color="#555",!e.test(this.introduction))return this.$refs.introHelp.style.color="red",void alert("请输入正确的签名");this.$refs.introHelp.style.color="#555";var s=confirm("您确定上传视频吗？");s&&this.uploadVideoContent()},uploadVideoContent:function(){var t=this,e={title:this.title,uid:this.uid,author:this.author,introduction:this.introduction,sortName:this.sortName,releaseDate:(new Date).getTime()};axios({method:"post",url:"video/uploadVideoContent",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){if("200"===e.data.status||2e4===e.data.status){var s=e.data.data.vid;t.formData.set("vid",s),t.uploadVideo(s)}else alert()})).catch((function(t){console.log(t)}))},uploadVideo:function(){var t=this;axios({method:"post",url:"video/uploadVideoFile",data:this.formData,headers:{"Content-Type":"multipart/form-data;charset=UTF-8"},onUploadProgress:function(e){t.progress=(e.loaded/e.total*100|0)+"%"}}).then((function(e){t.uploadVideoAfter(e.data)})).catch((function(t){console.log(t)}))},uploadVideoAfter:function(t){"200"!==t.status&&2e4!==t.status||setTimeout((function(){alert("更新成功！！！")}),1e3)}}}),T=F,S=(s("c0b2"),Object(f["a"])(T,A,V,!1,null,"5a0f7f5e",null)),M=S.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"my-views"}},[s("my-title",{attrs:{name:"流量管理"}})],1)},R=[],L={name:"myViews",components:{"my-title":w}},q=L,G=Object(f["a"])(q,I,R,!1,null,"78c3e9ca",null),Y=G.exports;a["a"].use(o["a"]);var B=[{path:"/",component:p},{path:"/mi",component:N},{path:"/mf",component:P},{path:"/mv",component:M},{path:"/mve",component:Y}],J=new o["a"]({routes:B}),Z=J,K=(s("be3b"),s("fd31"),s("16b4"),s("e5b4"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("top"),s("middle")],1)}),Q=[],W=s("1f31"),X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container p-0 mt-3 border shadow",attrs:{id:"middle"}},[s("div",{staticClass:"row h-100 no-gutters"},[s("div",{staticClass:"col-md-2 col-2  um-left"},[s("nav",{staticClass:"nav nav-pills flex-column justify-content-center"},[s("a",{staticClass:"nav-link disabled p-0"},[t._v("个人中心")]),s("router-link",{staticClass:"nav-link active p-0",attrs:{"data-toggle":"pill",to:"/"}},[t._v("首页")]),s("router-link",{staticClass:"nav-link p-0",attrs:{"data-toggle":"pill",to:"/mi"}},[t._v("我的信息")]),s("router-link",{staticClass:"nav-link p-0",attrs:{"data-toggle":"pill",to:"/mf"}},[t._v("我的头像")]),s("router-link",{staticClass:"nav-link p-0",attrs:{"data-toggle":"pill",to:"/mv"}},[t._v("投稿管理")]),s("router-link",{staticClass:"nav-link disabled p-0",attrs:{"data-toggle":"pill",to:"/mve"}},[t._v("流量管理")])],1)]),s("div",{staticClass:"col um-right"},[s("router-view"),s("div",{staticStyle:{height:"50px"}})],1)])])},tt=[],et={name:"middle",components:{}},st=et,at=(s("27ec"),Object(f["a"])(st,X,tt,!1,null,"58318f40",null)),rt=at.exports,nt={name:"App",components:{top:W["a"],middle:rt}},it=nt,ot=(s("dd1b"),Object(f["a"])(it,K,Q,!1,null,"934f8b4e",null)),lt=ot.exports;a["a"].config.productionTip=!1,new a["a"]({store:i,router:Z,render:function(t){return t(lt)}}).$mount("#app")}});